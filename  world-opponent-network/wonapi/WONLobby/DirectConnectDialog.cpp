#include "DirectConnectDialog.h"

#include "WONGUI/GUIConfig.h"
#include "WONGUI/InputBox.h"
#include "WONSocket/IPAddr.h"

using namespace WONAPI;

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
DirectConnectDialog::DirectConnectDialog()
{
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
void DirectConnectDialog::InitComponent(ComponentInit &theInit)
{
	Dialog::InitComponent(theInit);
	if(theInit.mType==ComponentInitType_ComponentConfig)
	{
		ComponentConfigInit &anInit = (ComponentConfigInit&)theInit;
		ComponentConfig *aConfig = anInit.mConfig;

		WONComponentConfig_Get(aConfig,mNameInput,"NameInput");
		WONComponentConfig_Get(aConfig,mAddressInput,"AddressInput");
		WONComponentConfig_Get(aConfig,mAddButton,"AddButton");
		WONComponentConfig_Get(aConfig,mCancelButton,"CancelButton");
	}
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
void DirectConnectDialog::Reset()
{
	mNameInput->RequestFocus();
	mNameInput->Clear(false);
	mAddressInput->Clear(false);
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
const GUIString& DirectConnectDialog::GetName()
{
	return mNameInput->GetText();
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
const GUIString& DirectConnectDialog::GetAddress()
{
	return mAddressInput->GetText();
}

